### 1.http2有什么缺点
因为只开一个tcp链接  一旦丢包  tcp会做丢包重传  然后就导致队头阻塞速度可能比1.1还慢，http2解决了http的队头阻塞  但是又来了tcp的队头阻塞 所以后来谷歌出的quick就用了udp去改 然后就成了http3

### 2.http2是如何做分帧的
采用二进制传输将请求和数据切割为帧，在帧的首部插入一定的字节，用以标识当前帧属于哪个流

### 3. keepalive 是多个tcp
长连接是串行的，实际上并不是多路复用，http2才是真的实现了多路复用

### 4. JSONP流程

[答案](https://www.zhihu.com/people/codefalling/posts)

### 什么是csrf
攻击者诱导受害者进入第三方网站，在第三方网站中，向被攻击网站发送跨站请求。利用受害者在被攻击网站已经获取的注册凭证，绕过后台的用户验证，达到冒充用户对被攻击的网站执行某项操作的目的。

受害者登录a.com，并保留了登录凭证（Cookie）。
攻击者引诱受害者访问了b.com。
b.com 向 a.com 发送了一个请求：a.com/act=xx。浏览器会…
a.com接收到请求后，对请求进行验证，并确认是受害者的凭证，误以为是受害者自己发送的请求。
a.com以受害者的名义执行了act=xx。
攻击完成，攻击者在受害者不知情的情况下，冒充受害者，让a.com执行了自己定义的操作。

CSRF的特点
攻击一般发起在第三方网站，而不是被攻击的网站。被攻击的网站无法防止攻击发生。
攻击利用受害者在被攻击网站的登录凭证，冒充受害者提交操作；而不是直接窃取数据。
整个过程攻击者并不能获取到受害者的登录凭证，仅仅是“冒用”。
跨站请求可以用各种方式：图片URL、超链接、CORS、Form提交等等。部分请求方式可以直接嵌入在第三方论坛、文章中，难以进行追踪。

CSRF通常是跨域的，因为外域通常更容易被攻击者掌控。但是如果本域下有容易被利用的功能，比如可以发图和链接的论坛和评论区，攻击可以直接在本域下进行，而且这种攻击更加危险。
解决方法
1.使用Origin Header、referer header确定来源域名
2.设置Referer Policy的方法有三种：
在CSP设置
页面头部增加meta标签
a标签增加referrerpolicy属性
3.分布式校验 token计算出结果，校验是无需存储token，再次计算，将token中的时间戳与登录时间比对，这么做每一个请求都携带token使得每一个页面、接口都对应输出和校验，工作量繁重
用户输入验证码密码也可以起到预防csrf作用
4.双重cookie验证
用户访问页面注入cookie，像后端发起请求时取出cookie，后端验证cookie字段是否与url参数中字段一致，不一致就拒绝请求



### 题外话
https证书获取方法
github上下载acme.sh脚本，acme免费证书
cdn会获得免费证书，七牛充值20元